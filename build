#! /usr/bin/env bash

# prepare build folder
DEBUG=debug
RELEASE=release
if [ ! -d $DEBUG ]; then mkdir $DEBUG; fi
if [ ! -d $RELEASE ]; then mkdir $RELEASE; fi

# prepare third party dependencies
cd $DEBUG && git submodule init && git submodule update && cd ..
cd $RELEASE && git submodule init && git submodule update && cd ..

# build
cd $DEBUG && cmake -DCMAKE_BUILD_TYPE=Debug ../src && make VERBOSE=1 && cd ..
cd $RELEASE && cmake -DCMAKE_BUILD_TYPE=Release ../src && make VERBOSE=1 && cd ..
